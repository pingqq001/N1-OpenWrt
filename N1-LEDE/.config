# ====== 64位核心架构配置 ======
CONFIG_TARGET_arm64=y
CONFIG_64BIT=y
CONFIG_ARCH_64BIT=y
CONFIG_TARGET_BOARD="amlogic"
CONFIG_TARGET_SUBTARGET="armv8"
CONFIG_TARGET_ARCH_PACKAGES="aarch64_cortex-a53"
CONFIG_CPU_TYPE="cortex-a53-crypto"
CONFIG_DEFAULT_TARGET_OPTIMIZATION="-Os -pipe -mcpu=cortex-a53"

# ====== 设备专属配置 ======
CONFIG_TARGET_amlogic=y
CONFIG_TARGET_amlogic_mesongx=y
CONFIG_TARGET_amlogic_mesongx_DEVICE_phicomm_n1=y
CONFIG_TARGET_amlogic_mesongx_64bit=y
CONFIG_TARGET_PROFILE="DEVICE_phicomm_n1"

# ====== 内核配置 ======
CONFIG_LINUX_5_15_ARM64=y
CONFIG_HAS_SUBTARGETS=y
CONFIG_HAS_DEVICES=y

# ====== 镜像生成设置 ======
CONFIG_TARGET_amlogic_mesongx_DEVICE_phicomm_n1_IMAGE_RAW=y
CONFIG_TARGET_ROOTFS_EXT4FS=y
CONFIG_TARGET_EXT4_BLOCKSIZE=4096
CONFIG_TARGET_EXT4_BLOCKSIZE_4K=y
CONFIG_TARGET_ROOTFS_TARGZ=y
CONFIG_TARGET_ROOTFS_INITRAMFS=n
CONFIG_TARGET_ROOTFS_PARTSIZE=512

# ====== 编译优化 ======
CONFIG_DEVEL=y
CONFIG_CCACHE=y
CONFIG_BUILD_LOG=y

# ====== GitHub访问优化 ======
CONFIG_PACKAGE_luci-app-passwall_INCLUDE_ShadowsocksR=y
CONFIG_PACKAGE_luci-app-passwall_INCLUDE_V2ray=y
CONFIG_PACKAGE_luci-app-passwall_INCLUDE_Trojan=y
CONFIG_PACKAGE_luci-app-passwall_INCLUDE_NaiveProxy=y
CONFIG_PACKAGE_ipt2socks=y
CONFIG_PACKAGE_microsocks=y
CONFIG_PACKAGE_dns2socks=y
CONFIG_PACKAGE_luci-app-passwall_INCLUDE_DNS2SOCKS=y


# ====== iStore 应用商店 ======
CONFIG_PACKAGE_luci-app-store=y
CONFIG_PACKAGE_luci-lib-ipkg=y
CONFIG_PACKAGE_luci-compat=y

# ====== 网络基础服务 ======
CONFIG_PACKAGE_ipv6helper=y
CONFIG_PACKAGE_ip6tables=y
CONFIG_PACKAGE_ip6tables-extra=y
CONFIG_PACKAGE_ip6tables-mod-nat=y

# ====== USB支持 ======
CONFIG_PACKAGE_kmod-usb2=y
CONFIG_PACKAGE_kmod-usb3=y
CONFIG_PACKAGE_kmod-usb-storage=y
CONFIG_PACKAGE_kmod-usb-storage-uas=y  # USB Attached SCSI协议支持

# ====== Luci应用 ======
CONFIG_PACKAGE_luci-app-amlogic=y
CONFIG_PACKAGE_luci-app-dockerman=y
CONFIG_PACKAGE_luci-app-passwall=y
CONFIG_PACKAGE_luci-app-samba4=y
CONFIG_PACKAGE_luci-app-uhttpd=y
CONFIG_PACKAGE_luci-app-frpc=y
CONFIG_PACKAGE_luci-app-mosdns=y
CONFIG_PACKAGE_luci-app-alist=y
CONFIG_PACKAGE_luci-app-ttyd=y

# ====== 主题配置 ======
CONFIG_PACKAGE_luci-theme-argon=y
CONFIG_PACKAGE_luci-app-argon-config=y

# ====== VPN服务 ======
CONFIG_PACKAGE_luci-app-zerotier=y

# ====== 网络加速 ======
CONFIG_PACKAGE_luci-app-turboacc=y
CONFIG_PACKAGE_luci-app-turboacc_INCLUDE_BBR_CCA=y
CONFIG_PACKAGE_luci-app-turboacc_INCLUDE_DNSFORWARDER=y

# ====== 精简模块 ======
CONFIG_PACKAGE_luci-app-accesscontrol=n
CONFIG_PACKAGE_luci-app-upnp=n
CONFIG_PACKAGE_luci-app-arpbind=n
CONFIG_PACKAGE_luci-app-ddns=n

# ====== 系统工具 ======
CONFIG_PACKAGE_htop=y
CONFIG_PACKAGE_iperf3=y
CONFIG_PACKAGE_openssh-sftp-server=y
CONFIG_PACKAGE_jq=y
CONFIG_PACKAGE_bash=y
CONFIG_PACKAGE_coreutils=y
CONFIG_PACKAGE_curl=y  # 添加curl用于调试网络

# ====== 文件系统支持 ======
CONFIG_PACKAGE_btrfs-progs=y
CONFIG_PACKAGE_dosfstools=y
CONFIG_PACKAGE_e2fsprogs=y
CONFIG_PACKAGE_ntfs-3g=y
CONFIG_PACKAGE_kmod-fs-exfat=y

# ====== 网络调试工具 ======
CONFIG_PACKAGE_tcpdump=y
CONFIG_PACKAGE_mtr-json=y
CONFIG_PACKAGE_dig=y
